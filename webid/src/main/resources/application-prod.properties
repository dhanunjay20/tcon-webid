# ============================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# ============================================
# This configuration is for PRODUCTION
# All security features are ENFORCED
# Use live Stripe keys only
# ============================================

# Application info
spring.config.activate.on-profile=prod
app.environment=production

# Stripe configuration for PRODUCTION
# *** REQUIRED: Replace with your LIVE keys from https://dashboard.stripe.com/apikeys ***
# *** NEVER commit real keys to version control ***
# *** Use environment variables or secrets manager in production ***
stripe.api.key=${STRIPE_API_KEY:sk_live_REPLACE_WITH_YOUR_LIVE_SECRET_KEY}
stripe.webhook.secret=${STRIPE_WEBHOOK_SECRET:whsec_REPLACE_WITH_YOUR_WEBHOOK_SECRET}
stripe.publishable.key=${STRIPE_PUBLISHABLE_KEY:pk_live_REPLACE_WITH_YOUR_LIVE_PUBLISHABLE_KEY}

# Webhook security for production (STRICT - REQUIRED)
stripe.webhook.signature.required=true

# Logging level for production (minimal)
logging.level.root=WARN
logging.level.com.tcon.webid=INFO
logging.level.org.springframework.web=WARN
logging.level.com.stripe=INFO
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# Production-specific settings (security hardened)
server.error.include-message=never
server.error.include-stacktrace=never
spring.mail.properties.mail.debug=false

# MongoDB production settings
SPRING_DATA_MONGODB_SERVER_SELECTION_TIMEOUT_MS=15000
SPRING_DATA_MONGODB_SOCKET_CONNECT_TIMEOUT_MS=15000

# Security headers
server.servlet.session.cookie.secure=true
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.same-site=strict

# Rate limiting (recommended - implement separately)
# stripe.webhook.rate-limit.enabled=true
# stripe.webhook.rate-limit.max-requests=100
# stripe.webhook.rate-limit.window-seconds=60

# Frontend allowed origins for production (comma separated)
# IMPORTANT: Replace with your actual production domain(s)
# Example: https://yourdomain.com,https://www.yourdomain.com
# For now using wildcard pattern - CHANGE THIS IN PRODUCTION!
frontend.allowed.origins=*
